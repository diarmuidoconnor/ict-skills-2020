## Contact List App.

We want to add Google Map to the contact details page. Ideally the map location should correspond to the person's address, however the longitude and latitude readings provided by the Random User web API are randomly generated and are invalid for mapping purposes. Therefore, we will hard-code it for WIT, Waterford for illustration purposes.

Create a new component file `contactList/src/components/map/index.js` and paste in the following:

~~~
import React from "react";
import { withScriptjs, withGoogleMap, GoogleMap, Marker } from "react-google-maps"

const Map = withScriptjs(withGoogleMap((props) => 
  <GoogleMap
    defaultZoom={8}
    defaultCenter={props.location}
  >
    {props.isMarkerShown && <Marker position={props.location } />}
  </GoogleMap>
))
 
export default Map;
~~~

The react-google-map library provides components and uses the higher order component pattern to simplify our integration with the Google Map service - it encapsulates the complicated coding aspects inside these two constructs. The components include GoogleMap and Marker, while HOCs include withScriptjs() and withGoogleMap().

In `src/components/contactPublic/index.js` make the following changes:
~~~
....... other imports .....
import Map from "../map/";

export default ({ user }) => {
  const location = {lng:-7.142379, lat: 52.246502} // WIT, Waterford
  const name = . . . . . 
  return ( . . . . . )
}
~~~

In the same file, replace the JSX excerpt:
~~~~
<div className="col-5 bg-secondary text-light">
      <span>Map placeholder</span>
  </div>
~~~~
with the following:
~~~
<div className="col-5" >
    <Map
      isMarkerShown
      googleMapURL="https://maps.googleapis.com/maps/api/js?v=3.exp&libraries=geometry,drawing,places"
      loadingElement={<div style={{ height: `100%` }} />}
      location={location}
      containerElement={<div style={{ height: `400px` }} />}
      mapElement={<div style={{ height: `100%` }} />}
    />
</div>
~~~

[The above code is not using a Google Map API key. To use one, change the  googleMapURL prop to:
~~~
googleMapURL="https://maps.googleapis.com/maps/api/js?key=[... your key ...]&v=3.exp&libraries=geometry,drawing,places"
~~~
For security reasons the key should not appear directly in your code. Instead use an environment variable and ensure the `.env` configuration file is not pushed to your GitHub repo
]

Start the CRA server and navigate to any contact's detail page. The map should appear on the right:

![][map]

Go to the `twoApps/contactList` folder and commit this work:
~~~
$ git add -A
$ git commit -m "Added Google map support"
~~~

[map]: ./img/map.png
